<div class="modal fade  modal-success text-left" id="editpopImage" role="dialog" tabindex="-1"
  style="z-index: -999999;">
  <div class="modal-dialog modal-center  modal-lg">
    <div class="modal-content">
      <button type="button" class="close" data-dismiss="modal"
        style="position: absolute;right: 0;top: 10px;right: 15px;">
        <span>x</span>
      </button>
      <div style="display: flex;align-items: center;justify-content: center;min-height: 350px; font-size: 18px;">
        <img *ngIf="selectedTruck?.image" [src]="selectedTruck?.image" style="max-width: 100%;height: 500px;" />
        <span *ngIf="!selectedTruck?.image">
          Fuel entry recipt not available.
        </span>
      </div>
    </div>
  </div>
</div>

<app-reporting-buttons [selected]="'month'" [calendarDimension]="'col-sm-6'" [type]="'trail'" [timeRange]="true"
  [hideBtn]="'today yesterday week month'" (btnClicked)="setupReport($event)" (generate)="generatePDFReport('fillup')">
</app-reporting-buttons>

<!-- <app-export-csv [fileName]="' Fillup Report ' + fillupDateRange[0] + ' to ' + fillupDateRange[1]"
  [dateGenerated]="false" [rows]="fillups" [cols]="csvFillupCols" *ngIf="fillups?.length">
</app-export-csv> -->

<!-- <a class="btn-info btn font-size-12 pull-right btn-sm" [href]="downloadableLink" style="float:left" type="button">
  <i class="fa fa-file-o margin-right-5"></i>Export as XLS
</a> -->

<div class="col-lg-12 margin-top-10 padding-0">
  <div class="vscroll">
    <!-- <p-progressBar *ngIf="fillupLoader.visibility"  [style]="{'height': '3px'}" mode="indeterminate"></p-progressBar> -->

    <div class="table-responsive" style="border: 1px solid #ebebeb;">
      <table matSort (matSortChange)="sortData($event)"
        class="table margin-bottom-0 table-condensed1 table-bordered1 text-wrap theme-table1" mat-table
        [dataSource]="fillups" mat-elevation-z8>
        <ng-container matColumnDef="fill_up_date">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Fillup Date</th>
          <td mat-cell *matCellDef="let row">
            <!-- {{ (row.fill_up_date * 1000 | date: 'MM/d/yyyy, h:mm:ss a') || 'N/A' }} -->
            {{row.fill_up_date ? (row.fill_up_date | date: 'MM/dd/yyyy, h:mm:ss a') || 'N/A' : 'N/A'}}
          </td>
        </ng-container>
        <ng-container matColumnDef="fuel_filled">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Fillup Quantity (Ltr)</th>
          <td mat-cell *matCellDef="let row">{{ row.fuel_filled || 'N/A' }}</td>
        </ng-container>
        <ng-container matColumnDef="amount_paid">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Fillup Amount (QAR)</th>
          <td mat-cell *matCellDef="let row">{{ row.amount_paid || 'N/A' }}</td>
        </ng-container>
        <ng-container matColumnDef="payment_method_name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Payment Method</th>
          <td mat-cell *matCellDef="let row">{{ row.payment_method_name || 'N/A' }}</td>
        </ng-container>
        <ng-container matColumnDef="location">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Fillup Location</th>
          <td mat-cell *matCellDef="let row">{{ row.location || 'N/A' }}</td>
        </ng-container>
        <ng-container matColumnDef="fuel_supervisor_name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Fuel Supervisor</th>
          <td mat-cell *matCellDef="let row">{{ row.fuel_supervisor_name || 'N/A' }}</td>
        </ng-container>
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Actions</th>
          <td mat-cell *matCellDef="let row">
            <button type="button" class="btn btn-icon btn-outline btn-round btn-default btn-xs showModal"
              data-target="#editpopImage" (click)="openImageModal(row)" data-toggle="modal" pTooltip="View Image">
              <i class="icon ion-eye"></i>
            </button>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
      <mat-paginator translate="no" #paginator [length]="fillupCount" [hidePageSize]="true" showFirstLastButtons
        (page)="onPaginateChange($event)" [pageSize]="10"></mat-paginator>
    </div>
  </div>
</div>
