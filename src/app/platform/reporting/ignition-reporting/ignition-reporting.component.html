<app-reporting-buttons [selected]="'month'" [calendarDimension]="'col-sm-6'" [type]="'violation'" [timeRange]="true"
  [hideBtn]="'today yesterday week month'" (btnClicked)="setupReport($event)"></app-reporting-buttons>

<!-- <app-export-csv [fileName]="'Ignition Report'" [dateGenerated]="false" [rows]="violations" [cols]="csvViolationCols"
  *ngIf="violations?.length"></app-export-csv> -->


<div class="col-lg-8 margin-top-10">
  <p-progressBar *ngIf="showIndeterminateProgress" [style]="{'height': '3px'}" mode="indeterminate"></p-progressBar>
  <div class="table-responsive" style="border: 1px solid #ebebeb;">
    <table matSort (matSortChange)="sortData($event)"
      class="table margin-bottom-0 table-condensed1 table-bordered1 text-wrap theme-table1" mat-table
      [dataSource]="violations" mat-elevation-z8>
      <ng-container matColumnDef="duration">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Duration</th>
        <td mat-cell *matCellDef="let row">{{ row.duration || 'N/A' }}</td>
      </ng-container>
      <ng-container matColumnDef="start_time">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Start Time</th>
        <td mat-cell *matCellDef="let row">{{ (row.start_time_unix * 1000 | date: 'M/d/yy, h:mm:ss a') || 'N/A' }}</td>
      </ng-container>
      <ng-container matColumnDef="end_time">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>End Time</th>
        <td mat-cell *matCellDef="let row">{{ (row.end_time_unix * 1000 | date: 'M/d/yy, h:mm:ss a') || 'N/A' }}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator translate="no" #paginator [length]="totalLength" [hidePageSize]="true" showFirstLastButtons
      (page)="onPaginateChange($event)" [pageSize]="10"></mat-paginator>
  </div>
</div>
<div class="col-lg-4 margin-top-10">
  <app-google-map #violationMap [height]="'275px'"></app-google-map>
</div>
