<div class="breadcrumb-box" #scrollToTop>
  <ol class="breadcrumb breadcrumb-arrow ">
    <li class="pointer"><a class="icon ion-ios-home" href="/iol"> Dashboard </a></li>
    <li>Contracts</li>
  </ol>
</div>


<div class="page-content   container-fluid  full-open-sidebar"   >
  <div class="modal fade  modal-success text-left" id="editpop2" role="dialog" tabindex="-1">
    <div class="modal-dialog modal-center  modal-md">
      <div class="modal-content">
        <div class="modal-header" [ngStyle]="theme">
          <button type="button" #cc class="close" data-dismiss="modal">
            <span>x</span>
          </button>
          <h4 class="modal-title">Contract Attachment</h4>
        </div>
        <div class="modal-body" style="text-align:center;">
          <img #cImage id="rotate" [src]="avatar_url" style="max-width: 400px;max-height: 400px">
        </div>
        <div class="modal-footer">
          <button class="btn btn-primary" (click)="rotate()">Rotate Image
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade  modal-success text-left" id="editpop2" role="dialog" tabindex="-1">
    <div class="modal-dialog modal-center  modal-md">
      <div class="modal-content">
        <div class="modal-header" [ngStyle]="theme">
          <button type="button" #cc class="close" data-dismiss="modal">
            <span>x</span>
          </button>
          <h4 class="modal-title">Contract Attachment</h4>
        </div>
        <div class="modal-body" style="text-align:center;">
          <img #cImage id="rotate" [src]="avatar_url" style="max-width: 400px;max-height: 400px">
        </div>
        <div class="modal-footer">
          <button class="btn btn-primary" (click)="rotate()">Rotate Image
          </button>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal for contract attachment form-->
  <div class="modal fade  modal-success text-left" id="editpop3" role="dialog" tabindex="-1">
    <div class="modal-dialog modal-center  modal-md">
      <div class="modal-content">
        <div class="modal-header" [ngStyle]="theme">
          <button type="button" #cc class="close" data-dismiss="modal">
            <span>x</span>
          </button>
          <h4 class="modal-title"> Attachment
            <span class="badge badge-warning">{{files_list.length}}</span>
          </h4>
        </div>
        <div class="modal-body" style="">
          <!-- <div class="col-lg-offset-2 col-lg-8 col-lg-offset-2">
            <div class="form-group">
              <label class="control-label">Attachments</label>
              <p-dropdown [disabled]="files_list && files_list.length == 0" styleClass="prime-dropdown"
                [options]="files_list" (onChange)="onFileChange($event.value)" optionLabel="name"
                placeholder="Select a File to Open">
              </p-dropdown>
            </div>
          </div> -->

          <div class=" padding-10  ">
            <div class="vscroll" style="height: 225px">
              <table class="table  table-condensed margin-bottom-0 bg-white">
                <tbody>
                <tr>
                  <td style="border: 1">
                    <ul *ngFor="let file of files_list">
                      <li class="pointer" (click)="onFileChange(file)">
                        {{file.name}}
                      </li>
                    </ul>
                  </td>
                </tr>
                <!-- <tr *ngFor="let file of files_list">
                  <td class="pointer" (click)="onFileChange(file)">
                    {{file.name}}
                  </td>
                </tr> -->
                </tbody>
              </table>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
  <!-- Renewal modal-->
  <div class="modal fade  modal-success text-left" id="renewModal" role="dialog" tabindex="-1">
    <div class="modal-dialog modal-center  modal-md">
      <div class="modal-content">
        <div class="modal-header" [ngStyle]="theme">
          <button type="button" class="close" data-dismiss="modal">
            <span>x</span>
          </button>
          <h4 class="modal-title">Renew Contract</h4>
        </div>
        <div class="modal-body">
          <div class="col-lg-12">
            <div class="form-group">
              <label class="control-label">End Date </label>
              <div class="input-icon">
                <p-calendar [(ngModel)]="renewalDate" name="joiningDate" placeholder="MM/DD/YYYY"
                            styleClass="prime-datetime" required>
                </p-calendar>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" #closeForm class="btn btn-default" data-dismiss="modal">Close</button>
          <button class="btn btn-primary" [disabled]="!renewalDate" (click)="renewContract(true)">Submit</button>
          <button class="btn btn-primary" (click)="renewContract(false)">Deactivate</button>
        </div>
      </div>
    </div>
  </div>

  <div class="row  ">
    <div class="col-lg-12">
      <div class="row  ">
        <div class="col-md-3">
          <div
            style="background-color: rgb(235,151,0) !important;"
            class="card widget-content padding-10 padding-right-15 padding-left-15 white shadow height-70  margin-bottom-20  clearfix pointer"
            (click)="switchTabs('1')">
            <div class="pull-left white">
              <i> <img src="../../../assets/images/iol/icon-contract.png" alt="img" height="40"> </i>
            </div>
            <div class="text-right pull-right">
              <div class="counter-number-group white">
                <span class="font-size-18">{{contracts.length || 0}}</span>
              </div>
              <div class="counter-label text-capitalize font-size-12">Total Contracts</div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div
            style="background-color: rgb(94,39,80) !important;"
            class="card widget-content padding-10 padding-right-15 padding-left-15 white shadow height-70  margin-bottom-20 pointer clearfix"
            (click)="switchTabs('8')">
            <div class="pull-left white">
              <i> <img src="../../../assets/images/iol/icon-contract.png" alt="img" height="40"> </i>
            </div>
            <div class="text-right pull-right">
              <div class="counter-number-group white">
                <span class="font-size-18">{{status.active || 0}}</span>
              </div>
              <div class="counter-label text-capitalize font-size-12">Active Contracts</div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div
            style="background-color: rgb(0,124,146) !important;"
            class="card widget-content padding-10 padding-right-15 padding-left-15 white shadow height-70  margin-bottom-20  clearfix pointer"
            (click)="switchTabs('6')">
            <div class="pull-left white">
              <i> <img src="../../../assets/images/iol/icon-contract.png" alt="img" height="40"> </i>
            </div>
            <div class="text-right pull-right">
              <div class="counter-number-group white">
                <span class="font-size-18">{{status.inactive || 0}}</span>
              </div>
              <div class="counter-label text-capitalize font-size-12">Deactivated Contracts</div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div
            style="background-color: rgb(49, 140, 12) !important;"
            class="card widget-content padding-10 padding-right-15 padding-left-15  bg-orange-800 white shadow height-70  margin-bottom-20  clearfix pointer"
            (click)="switchTabs('2')">
            <div class="pull-left white">
              <i> <img src="../../../assets/images/iol/icon-contract.png" alt="img" height="40"> </i>
            </div>
            <div class="text-right pull-right">
              <div class="counter-number-group white">
                <span class="font-size-18">{{status.expiring || 0}}</span>
              </div>
              <div class="counter-label text-capitalize font-size-12">Expiring Contracts</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-12">
      <div class="row  ">
        <div class="col-md-3">
          <div
          style="background-color: rgb(233, 175, 70) !important"
            class="card widget-content padding-10 padding-right-15 padding-left-15 white shadow height-70  margin-bottom-20  clearfix pointer"
            (click)="switchTabs('3')">
            <div class="pull-left white">
              <i> <img src="../../../assets/images/iol/icon-contract.png" alt="img" height="40"> </i>
            </div>
            <div class="text-right pull-right">
              <div class="counter-number-group white">
                <span class="font-size-18">{{status.renewed || 0}}</span>
              </div>
              <div class="counter-label text-capitalize font-size-12">Renewed Contracts</div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div
          style="background-color: rgb(134, 96, 126) !important;"
            class="card widget-content padding-10 padding-right-15 padding-left-15 white shadow height-70  margin-bottom-20  clearfix pointer"
            (click)="switchTabs('4')">
            <div class="pull-left white">
              <i> <img src="../../../assets/images/iol/icon-contract.png" alt="img" height="40"> </i>
            </div>
            <div class="text-right pull-right">
              <div class="counter-number-group white">
                <span class="font-size-18">{{status.newcontracts || 0}}</span>
              </div>
              <div class="counter-label text-capitalize font-size-12">New Contracts</div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div
          style="background-color: rgb(68, 156, 172) !important"
            class="card widget-content padding-10 padding-right-15 padding-left-15 white shadow height-70  margin-bottom-20  clearfix pointer"
            (click)="switchTabs('5')">
            <div class="pull-left white">
              <i> <img src="../../../assets/images/iol/icon-contract.png" alt="img" height="40"> </i>
            </div>
            <div class="text-right pull-right">
              <div class="counter-number-group white">
                <span class="font-size-18">{{status.expired || 0}}</span>
              </div>
              <div class="counter-label text-capitalize font-size-12">Expired Contracts</div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div
            style="background-color: rgb(102, 167, 78) !important"
            class="card widget-content padding-10 padding-right-15 padding-left-15 white shadow height-70  margin-bottom-20  clearfix pointer"
            (click)="switchTabs('7')">
            <div class="pull-left white">
              <i> <img src="../../../assets/images/iol/icon-contract.png" alt="img" height="40"> </i>
            </div>
            <div class="text-right pull-right">
              <div class="counter-number-group white">
                <span class="font-size-18">{{status.expiring_in_3 || 0}}</span>
              </div>
              <div class="counter-label text-capitalize font-size-12">Contracts Expiring In 3 Months</div>
            </div>
          </div>
        </div>

      </div>
      <div class="row1">
        <div class="panel card shadow light panel-default nav-tabs-horizontal padding-0 margin-bottom-0">
          <div class="panel-heading font-weight-600" (click)="resizeDatatableSerivce.recalculate();">
            <ul class="nav nav-tabs nav-tabs-line  " data-plugin="nav-tabs" role="tablist">
              <li (click)="activeTab=1" class="active"><a #tab1 data-toggle="tab" href="#contracts" role="tab"
                                                          class=" ">All <span
                class="badge badge-info">{{contracts.length}}</span></a></li>
              <li (click)="activeTab=8" class=""><a #tab8 data-toggle="tab" href="#active-contracts" role="tab"
                                                    class=" ">
                Active <span class="badge badge-info">{{activeContracts.length}}</span></a></li>

              <li (click)="activeTab=2" class=""><a #tab2 data-toggle="tab" href="#expiring" role="tab"
                                                    class=" ">Expiring This Month <span
                class="badge badge-info">{{expiring.length}}</span></a></li>
              <li (click)="activeTab=3" class=""><a #tab3 data-toggle="tab" href="#renewed" role="tab" class=" ">
                Renewed This
                Month<span class="badge badge-info">{{renewed.length}}</span></a></li>
              <li (click)="activeTab=4" class=""><a #tab4 data-toggle="tab" href="#new" role="tab" class=" "> New
                This Month<span class="badge badge-info">{{newcontracts.length}}</span></a></li>
              <li (click)="activeTab=5" class=""><a #tab5 data-toggle="tab" href="#expired" role="tab" class=" ">
                Expired <span class="badge badge-info">{{expired.length}}</span></a></li>
              <li (click)="activeTab=6" class=""><a #tab6 data-toggle="tab" href="#deactivated" role="tab"
                                                    class=" ">Deactivated <span
                class="badge badge-info">{{deactivated.length}}</span></a></li>
              <li (click)="activeTab=7" class=""><a #tab7 data-toggle="tab" href="#expiring_in_3" role="tab"
                                                    class=" "> Expiring In 3 Months <span
                class="badge badge-info">{{expiringInThreeMonths.length}}</span> </a></li>
            </ul>
            <div *ngIf="getRefreshVisibility()" class="panel-actions">
              <a class="panel-action icon ion-loop" [pTooltip]="getRefreshToolTip()"
                 (click)="getRefreshContracts()"></a>
            </div>
          </div>
          <div class="panel-body padding-0">
            <div class="tab-content">
              <div class="tab-pane active" id="contracts" role="tabpanel">
                <div class="panel-body">
                  <div class="vscroll" style="height:auto; overflow-x:hidden;">
                    <div class="margin-bottom-10  row">
                      <div class="col-sm-3 pull-left">
                        <app-export-csv [fileName]="'All Contracts'"
                                        [rows]="contracts"
                                        [cols]="csvCols"
                                        *ngIf="!contractsLoader.visibility && contracts.length>0"></app-export-csv>
                        <!--                        <button [ngClass]="showIndeterminateProgressContracts?'hidden':''"-->
                        <!--                                class="btn btn-sm btn-primary" (click)="generatePDFReport('all')">Download PDF-->
                        <!--                        </button>-->
                      </div>
                      <div class="col-sm-3 pull-right">
                        <div class="input-icon">
                          <input type='text' [disabled]="enableSearchContracts"
                                 [placeholder]="searchPlaceHolderContracts"
                                 pTooltip='Search By Name, Client, Assigned Area, Party Code' tooltipPosition="top"
                                 class="form-control input-sm" [(ngModel)]="inputValueContracts"
                                 (keyup)='updateFilterContracts($event)'>
                          <span class="icon fa fa-info-circle"></span>
                        </div>
                      </div>
                    </div>
                    <div class="table-responsive1 vscroll " style="height:auto" style="border: 1px solid #ebebeb;">
                      <p-progressBar *ngIf="showIndeterminateProgressContracts" [style]="{'height': '5px'}"
                                     mode="indeterminate"></p-progressBar>
                      <ngx-datatable #table class="material defaultCursor" [columnMode]="'force'" [headerHeight]="50"
                                     [footerHeight]="50" [rowHeight]="'auto'" [limit]="10" [rows]='contracts'>
                        <ngx-datatable-column name="Contract<br>Number" prop="name">
                          <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            <span>
                              {{(value)}}
                            </span>
                          </ng-template>
                        </ngx-datatable-column>

                        <!-- <ngx-datatable-column name="Contract<br/>Type" prop="leased_owned_name"></ngx-datatable-column> -->
                        <ngx-datatable-column name="Client" prop="client_name"></ngx-datatable-column>
                        <!-- <ngx-datatable-column name="Area" prop="assigned_area_name"></ngx-datatable-column>
                        <ngx-datatable-column name="Location" prop="assigned_location_name"></ngx-datatable-column> -->
                        <ngx-datatable-column name="Party<br/>Code" prop="party_code"></ngx-datatable-column>
                        <ngx-datatable-column name="Created<br/>Datetime" prop="created_datetime">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'medium') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <ngx-datatable-column name="Start<br/>Date" prop="date_commissioned">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'mediumDate') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <ngx-datatable-column name="End<br/>Date" prop="date_of_joining">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'mediumDate') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <!-- <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'"
                                              name="No. of<br/>bins" prop="assigned_bins_count"></ngx-datatable-column>
                        <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'"
                                              name="Skip Rate<br/>(AED)" prop="skip_rate"></ngx-datatable-column>
                        <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'" name="Skip Size"
                                              prop="skip_size_name"></ngx-datatable-column> -->
                        <ngx-datatable-column name="Record<br/>Status" prop="status_label">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              <span class="label" [ngClass]="(value === 'Active')? 'label-success': 'label-danger'">
                                {{(value === 'Active') ? 'Active' : 'Inactive'}}
                              </span>
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <ngx-datatable-column name="Actions" [cellClass]="'text-right'" [headerClass]="'text-right'">
                          <ng-template let-value="value" let-row="row" ngx-datatable-cell-template>
                            <button type="button" class="btn btn-icon btn-outline btn-round btn-default btn-xs"
                                    data-target="#renewModal" data-toggle="modal" pTooltip="Renew"
                                    [disabled]="row.status!=1"
                                    (click)="openRenewModal(row)">
                              <i class="icon ion-android-sync"></i>
                            </button>
                            <button type="button" class="btn btn-icon btn-outline btn-round btn-default btn-xs"
                                    [ngClass]="{'green-view-button':(row.files_name?row.files_name.length>0:false)||row.photo}"
                                    data-target="#editpop3" data-toggle="modal" pTooltip="View Attachments"
                                    [disabled]="(row.files_name?(row.files_name.length<=0):true)&&!row.photo"
                                    (click)="newView(row)">
                              <i class="icon ion-ios-eye-outline"></i>
                            </button>
                          </ng-template>
                        </ngx-datatable-column>
                      </ngx-datatable>
                      <app-spin-loading [appLoader]="contractsLoader" [size]="'sm'"></app-spin-loading>
                      <!--<p-table [value]="scannerList" [styleClass]="'table'">-->
                      <!--<ng-template pTemplate="header">-->
                      <!--<tr>-->
                      <!--<th>Vin</th>-->
                      <!--<th>Year</th>-->
                      <!--<th>Brand</th>-->
                      <!--<th>Color</th>-->
                      <!--<th>Color</th>-->
                      <!--</tr>-->
                      <!--</ng-template>-->
                      <!--<ng-template pTemplate="body" let-car>-->
                      <!--<tr>-->
                      <!--<td>{{car.name}}</td>-->
                      <!--<td>{{car.assigned_asset.name}}</td>-->
                      <!--<td>{{car.assigned_asset.type_name}}</td>-->
                      <!--<td>{{car.modified_by_name}}</td>-->
                      <!--<td>{{car.modified_datetime}}</td>-->

                      <!--</tr>-->
                      <!--</ng-template>-->
                      <!--</p-table>-->

                    </div>
                  </div>
                </div>

              </div>
              <!--Active Tab-->
              <div class="tab-pane" id="active-contracts" role="tabpanel">
                <div class="panel-body">
                  <div class="vscroll" style="height:auto; overflow-x:hidden;">
                    <div class="margin-bottom-10  row">
                      <div class="col-sm-3 pull-left">
                        <app-export-csv [fileName]="'Active Contracts'"
                                        [rows]="activeContracts"
                                        [cols]="csvCols"
                                        *ngIf="!enableSearchContracts && activeContracts.length>0"></app-export-csv>
                        <!--                        <button [ngClass]="showIndeterminateProgressActive?'hidden':''" class="btn btn-sm btn-primary"-->
                        <!--                                (click)="generatePDFReport('active')">Download PDF-->
                        <!--                        </button>-->
                      </div>
                      <div class="col-sm-3 pull-right">
                        <div class="input-icon">
                          <input type='text' [disabled]="enableSearchContracts"
                                 [placeholder]="searchPlaceHolderContracts"
                                 pTooltip='Search By Name, Client, Assigned Area, Party Code' tooltipPosition="top"
                                 class="form-control input-sm" [(ngModel)]="inputActiveValueContracts"
                                 (keyup)='updateFilterActiveContracts($event)'>
                          <span class="icon fa fa-info-circle"></span>
                        </div>
                      </div>
                    </div>
                    <div class="table-responsive1 vscroll " style="height:auto;border: 1px solid #ebebeb;">
                      <p-progressBar *ngIf="showIndeterminateProgressContracts" [style]="{'height': '5px'}"
                                     mode="indeterminate"></p-progressBar>
                      <ngx-datatable #table class="material defaultCursor" [columnMode]="'force'" [headerHeight]="50"
                                     [footerHeight]="50" [rowHeight]="'auto'" [limit]="10" [rows]='activeContracts'>
                        <ngx-datatable-column name="Contract<br>Number" prop="name">
                          <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            <span>
                              {{(value)}}
                            </span>
                          </ng-template>
                        </ngx-datatable-column>
                        <!-- <ngx-datatable-column name="Contract<br/>Type" prop="leased_owned_name"></ngx-datatable-column> -->

                        <ngx-datatable-column name="Client" prop="client_name"></ngx-datatable-column>
                        <!-- <ngx-datatable-column name="Area" prop="assigned_area_name"></ngx-datatable-column>
                        <ngx-datatable-column name="Location" prop="assigned_location_name"></ngx-datatable-column> -->
                        <ngx-datatable-column name="Party<br/>Code" prop="party_code"></ngx-datatable-column>
                        <ngx-datatable-column name="Created<br/>Date" prop="created_datetime">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'short') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>

                        <ngx-datatable-column name="Start<br/>Date" prop="date_commissioned">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'medium') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <ngx-datatable-column name="End<br/>Date" prop="date_of_joining">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'mediumDate') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <!-- <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'"
                                              name="No. of<br/>bins" prop="assigned_bins_count"></ngx-datatable-column>
                        <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'"
                                              name="Skip Rate<br/>(AED)" prop="skip_rate"></ngx-datatable-column>
                        <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'" name="Skip Size"
                                              prop="skip_size_name"></ngx-datatable-column> -->
                        <ngx-datatable-column name="Record<br/>Status" prop="status_label">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              <span class="label" [ngClass]="(value === 'Active')? 'label-success': 'label-danger'">
                                {{(value === 'Active') ? 'Active' : 'Inactive'}}
                              </span>
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <ngx-datatable-column name="Actions" [cellClass]="'text-right'" [headerClass]="'text-right'">
                          <ng-template let-value="value" let-row="row" ngx-datatable-cell-template>
                            <button type="button" class="btn btn-icon btn-outline btn-round btn-default btn-xs"
                                    data-target="#renewModal" data-toggle="modal" pTooltip="Renew"
                                    [disabled]="row.status!=1"
                                    (click)="openRenewModal(row)">
                              <i class="icon ion-android-sync"></i>
                            </button>
                            <button type="button" class="btn btn-icon btn-outline btn-round btn-default btn-xs"
                                    [ngClass]="{'green-view-button':(row.files_name?row.files_name.length>0:false)||row.photo}"
                                    data-target="#editpop3" data-toggle="modal" pTooltip="View Attachments"
                                    [disabled]="(row.files_name?(row.files_name.length<=0):true)&&!row.photo"
                                    (click)="newView(row)">
                              <i class="icon ion-ios-eye-outline"></i>
                            </button>
                          </ng-template>
                        </ngx-datatable-column>
                      </ngx-datatable>
                      <app-spin-loading [appLoader]="contractsLoader" [size]="'sm'"></app-spin-loading>
                      <!--<p-table [value]="scannerList" [styleClass]="'table'">-->
                      <!--<ng-template pTemplate="header">-->
                      <!--<tr>-->
                      <!--<th>Vin</th>-->
                      <!--<th>Year</th>-->
                      <!--<th>Brand</th>-->
                      <!--<th>Color</th>-->
                      <!--<th>Color</th>-->
                      <!--</tr>-->
                      <!--</ng-template>-->
                      <!--<ng-template pTemplate="body" let-car>-->
                      <!--<tr>-->
                      <!--<td>{{car.name}}</td>-->
                      <!--<td>{{car.assigned_asset.name}}</td>-->
                      <!--<td>{{car.assigned_asset.type_name}}</td>-->
                      <!--<td>{{car.modified_by_name}}</td>-->
                      <!--<td>{{car.modified_datetime}}</td>-->

                      <!--</tr>-->
                      <!--</ng-template>-->
                      <!--</p-table>-->

                    </div>
                  </div>
                </div>

              </div>
              <!--Active Tab Ends here-->
              <div class="tab-pane" id="expiring" role="tabpanel">
                <div class="panel-body">
                  <div class="vscroll" style="height:auto; overflow-x:hidden;">
                    <div class="margin-bottom-10  row">
                      <div class="col-sm-3 pull-left">
                        <app-export-csv [fileName]="'Expiring This Month Contracts'"
                                        [rows]="expiring"
                                        [cols]="csvCols"
                                        *ngIf="!expiringLoader.visibility && expiring.length>0"></app-export-csv>
                        <!--                        <button [ngClass]="showIndeterminateProgressExpiring?'hidden':''" class="btn btn-sm btn-primary"-->
                        <!--                                (click)="generatePDFReport('expiring')">Download PDF-->
                        <!--                        </button>-->
                      </div>
                      <div class="col-sm-3 pull-right">
                        <div class="input-icon">
                          <input type='text' [disabled]="enableSearchExpiring" [(ngModel)]="inputValueExpiring"
                                 [placeholder]="searchPlaceHolderExpiring"
                                 pTooltip='Search By Name, Client, Assigned Area, Party Code' tooltipPosition="top"
                                 class="form-control input-sm" (keyup)='updateFilterExpiring($event)'>
                          <span class="icon fa fa-info-circle"></span>
                        </div>
                      </div>
                    </div>
                    <div class="table-responsive1 vscroll " style="height:auto;border: 1px solid #ebebeb;">
                      <p-progressBar *ngIf="showIndeterminateProgressExpiring" [style]="{'height': '5px'}"
                                     mode="indeterminate"></p-progressBar>
                      <ngx-datatable #table class="material defaultCursor" [columnMode]="'force'" [headerHeight]="50"
                                     [footerHeight]="50" [rowHeight]="'auto'" [limit]="10" [rows]="expiring">
                        <ngx-datatable-column name="Contract<br>Number" prop="name">
                          <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            <span>
                              {{(value)}}
                            </span>
                          </ng-template>
                        </ngx-datatable-column>
                        <!-- <ngx-datatable-column name="Contract<br/>Type" prop="leased_owned_name"></ngx-datatable-column> -->

                        <ngx-datatable-column name="Client" prop="client_name"></ngx-datatable-column>
                        <!-- <ngx-datatable-column name="Area" prop="assigned_area_name"></ngx-datatable-column>
                        <ngx-datatable-column name="Location" prop="assigned_location_name"></ngx-datatable-column> -->
                        <ngx-datatable-column name="Party<br/>Code" prop="party_code"></ngx-datatable-column>
                        <ngx-datatable-column name="Created<br/>Date" prop="created_datetime">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'medium') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>

                        <ngx-datatable-column name="Start<br/>Date" prop="date_commissioned">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'mediumDate') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <ngx-datatable-column name="End<br/>Date" prop="date_of_joining">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'mediumDate') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <!-- <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'"
                                              name="No. of<br/>bins" prop="assigned_bins_count"></ngx-datatable-column>
                        <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'"
                                              name="Skip Rate<br/>(AED)" prop="skip_rate"></ngx-datatable-column>
                        <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'" name="Skip Size"
                                              prop="skip_size_name"></ngx-datatable-column> -->
                        <ngx-datatable-column name="Record<br/>Status" prop="status_label">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              <span class="label" [ngClass]="(value === 'Active')? 'label-success': 'label-danger'">
                                {{(value === 'Active') ? 'Active' : 'Inactive'}}
                              </span>
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <ngx-datatable-column name="Actions" [cellClass]="'text-right'" [headerClass]="'text-right'">
                          <ng-template let-value="value" let-row="row" ngx-datatable-cell-template>
                            <button type="button" class="btn btn-icon btn-outline btn-round btn-default btn-xs"
                                    data-target="#renewModal" data-toggle="modal" pTooltip="Renew"
                                    [disabled]="row.status!=1"
                                    (click)="openRenewModal(row)">
                              <i class="icon ion-android-sync"></i>
                            </button>
                            <button type="button" class="btn btn-icon btn-outline btn-round btn-default btn-xs"
                                    [ngClass]="{'green-view-button':(row.files_name?row.files_name.length>0:false)||row.photo}"
                                    data-target="#editpop3" data-toggle="modal" pTooltip="View Attachments"
                                    [disabled]="(row.files_name?(row.files_name.length>0?false:true):true)&&!row.photo"
                                    (click)="newView(row)">
                              <i class="icon ion-ios-eye-outline"></i>
                            </button>
                          </ng-template>
                        </ngx-datatable-column>
                      </ngx-datatable>
                      <app-spin-loading [appLoader]="expiringLoader" [size]="'sm'"></app-spin-loading>
                    </div>
                  </div>
                </div>

              </div>
              <div class="tab-pane" id="renewed" role="tabpanel">
                <div class="panel-body">
                  <div class="vscroll" style="height:auto; overflow-x:hidden;">
                    <div class="margin-bottom-10  row">
                      <div class="col-sm-3 pull-left">

                        <app-export-csv [fileName]="'Renewed Contracts'"
                                        [rows]="renewed"
                                        [cols]="csvCols"
                                        *ngIf="!renewedLoader.visibility && renewed.length>0">
                        </app-export-csv>
                        <!--                        <button [ngClass]="showIndeterminateProgressRenewed?'hidden':''" class="btn btn-sm btn-primary"-->
                        <!--                                (click)="generatePDFReport('renewed')">Download PDF-->
                        <!--                        </button>-->
                      </div>
                      <div class="col-sm-3 pull-right">
                        <div class="input-icon">
                          <input type='text' [disabled]="enableSearchRenewed" [placeholder]="searchPlaceHolderRenewed"
                                 pTooltip='Search By Name, Client, Assigned Area, Party Code' tooltipPosition="top"
                                 class="form-control input-sm" [(ngModel)]="inputValueRenewed"
                                 (keyup)='updateFilterRenewed($event)'>
                          <span class="icon fa fa-info-circle"></span>
                        </div>
                      </div>
                    </div>
                    <p-progressBar *ngIf="showIndeterminateProgressRenewed" [style]="{'height': '5px'}"
                                   mode="indeterminate"></p-progressBar>
                    <div class="table-responsive1 vscroll " style="height:auto;border: 1px solid #ebebeb;">
                      <ngx-datatable #table class="material defaultCursor" [columnMode]="'force'" [headerHeight]="50"
                                     [footerHeight]="50" [rowHeight]="'auto'" [limit]="10" [rows]='renewed'>
                        <ngx-datatable-column name="Contract<br>Number" prop="name">
                          <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            <span>
                              {{(value)}}
                            </span>
                          </ng-template>
                        </ngx-datatable-column>
                        <!-- <ngx-datatable-column name="Contract<br/>Type" prop="leased_owned_name"></ngx-datatable-column> -->

                        <ngx-datatable-column name="Client" prop="client_name"></ngx-datatable-column>
                        <!-- <ngx-datatable-column name="Area" prop="assigned_area_name"></ngx-datatable-column>
                        <ngx-datatable-column name="Location" prop="assigned_location_name"></ngx-datatable-column> -->
                        <ngx-datatable-column name="Party<br/>Code" prop="party_code"></ngx-datatable-column>
                        <ngx-datatable-column name="Created<br/>Date" prop="created_datetime">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'medium') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>

                        <ngx-datatable-column name="Start<br/>Date" prop="date_commissioned">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'mediumDate') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <ngx-datatable-column name="End<br/>Date" prop="date_of_joining">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'mediumDate') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <!-- <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'"
                                              name="No. of<br/>bins" prop="assigned_bins_count"></ngx-datatable-column>
                        <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'"
                                              name="Skip Rate<br/>(AED)" prop="skip_rate"></ngx-datatable-column>
                        <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'" name="Skip Size"
                                              prop="skip_size_name"></ngx-datatable-column> -->
                        <ngx-datatable-column name="Record<br/>Status" prop="status_label">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              <span class="label" [ngClass]="(value === 'Active')? 'label-success': 'label-danger'">
                                {{(value === 'Active') ? 'Active' : 'Inactive'}}
                              </span>
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <ngx-datatable-column name="Actions" [cellClass]="'text-right'" [headerClass]="'text-right'">
                          <ng-template let-value="value" let-row="row" ngx-datatable-cell-template>
                            <button type="button" class="btn btn-icon btn-outline btn-round btn-default btn-xs"
                                    [ngClass]="{'green-view-button':(row.files_name?row.files_name.length>0:false)||row.photo}"
                                    data-target="#editpop3" data-toggle="modal" pTooltip="View Attachments"
                                    [disabled]="(row.files_name?(row.files_name.length>0?false:true):true)&&!row.photo"
                                    (click)="newView(row)">
                              <i class="icon ion-ios-eye-outline"></i>
                            </button>
                          </ng-template>
                        </ngx-datatable-column>
                      </ngx-datatable>
                      <app-spin-loading [appLoader]="renewedLoader" [size]="'sm'"></app-spin-loading>
                    </div>
                  </div>
                </div>

              </div>
              <div class="tab-pane" id="new" role="tabpanel">
                <div class="panel-body">
                  <div class="vscroll" style="height:auto; overflow-x:hidden;">
                    <div class="margin-bottom-10  row">
                      <div class="col-sm-3 pull-left">
                        <app-export-csv [fileName]="'New Contracts'"
                                        [rows]="newcontracts"
                                        [cols]="csvCols"
                                        *ngIf="!newLoader.visibility && newcontracts.length>0"></app-export-csv>
                        <!--                        <button [ngClass]="showIndeterminateProgressNew?'hidden':''" class="btn btn-sm btn-primary"-->
                        <!--                                (click)="generatePDFReport('new')">Download PDF-->
                        <!--                        </button>-->
                      </div>
                      <div class="col-sm-3 pull-right">
                        <div class="input-icon">
                          <input type='text' [disabled]="enableSearchNew" [placeholder]="searchPlaceHolderNew"
                                 pTooltip='Search By Name, Client, Assigned Area, Party Code' tooltipPosition="bottom"
                                 class="form-control input-sm" [(ngModel)]="inputValueNew"
                                 (keyup)='updateFilterNew($event)'>
                          <span class="icon fa fa-info-circle"></span>
                        </div>
                      </div>
                    </div>
                    <div class="table-responsive1 vscroll " style="height:auto;border: 1px solid #ebebeb;">
                      <p-progressBar *ngIf="showIndeterminateProgressNew" [style]="{'height': '5px'}"
                                     mode="indeterminate"></p-progressBar>
                      <ngx-datatable #table class="material defaultCursor" [columnMode]="'force'" [headerHeight]="50"
                                     [footerHeight]="50" [rowHeight]="'auto'" [limit]="10" [rows]='newcontracts'>
                        <ngx-datatable-column name="Contract<br>Number" prop="name">
                          <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            <span>
                              {{(value)}}
                            </span>
                          </ng-template>
                        </ngx-datatable-column>
                        <!-- <ngx-datatable-column name="Contract<br/>Type" prop="leased_owned_name"></ngx-datatable-column> -->
                        <ngx-datatable-column name="Client" prop="client_name"></ngx-datatable-column>
                        <!-- <ngx-datatable-column name="Area" prop="assigned_area_name"></ngx-datatable-column>
                        <ngx-datatable-column name="Location" prop="assigned_location_name"></ngx-datatable-column> -->
                        <ngx-datatable-column name="Party<br/>Code" prop="party_code"></ngx-datatable-column>
                        <ngx-datatable-column name="Created<br/>Date" prop="created_datetime">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'medium') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>

                        <ngx-datatable-column name="Start<br/>Date" prop="date_commissioned">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'mediumDate') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <ngx-datatable-column name="End<br/>Date" prop="date_of_joining">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'mediumDate') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <!-- <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'"
                                              name="No. of<br/>bins" prop="assigned_bins_count"></ngx-datatable-column>
                        <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'"
                                              name="Skip Rate<br/>(AED)" prop="skip_rate"></ngx-datatable-column>
                        <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'" name="Skip Size"
                                              prop="skip_size_name"></ngx-datatable-column> -->
                        <ngx-datatable-column name="Record<br/>Status" prop="status_label">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              <span class="label" [ngClass]="(value === 'Active')? 'label-success': 'label-danger'">
                                {{(value === 'Active') ? 'Active' : 'Inactive'}}
                              </span>
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <ngx-datatable-column name="Actions" [cellClass]="'text-right'" [headerClass]="'text-right'">
                          <ng-template let-value="value" let-row="row" ngx-datatable-cell-template>
                            <button type="button" class="btn btn-icon btn-outline btn-round btn-default btn-xs"
                                    [ngClass]="{'green-view-button':(row.files_name?row.files_name.length>0:false)||row.photo}"
                                    data-target="#editpop3" data-toggle="modal" pTooltip="View Attachments"
                                    [disabled]="(row.files_name?(row.files_name.length>0?false:true):true)&&!row.photo"
                                    (click)="newView(row)">
                              <i class="icon ion-ios-eye-outline"></i>
                            </button>
                          </ng-template>
                        </ngx-datatable-column>
                      </ngx-datatable>
                      <app-spin-loading [appLoader]="newLoader" [size]="'sm'"></app-spin-loading>
                    </div>
                  </div>
                </div>

              </div>
              <div class="tab-pane" id="expired" role="tabpanel">
                <div class="panel-body">
                  <div class="vscroll" style="height:auto; overflow-x:hidden;">
                    <div class="margin-bottom-10  row">
                      <div class="col-sm-3 pull-left">
                        <app-export-csv [fileName]="'Expired Contracts'"
                                        [rows]="expired"
                                        [cols]="csvCols"
                                        *ngIf="!expiredLoader.visibility && expired.length>0"></app-export-csv>
                        <!--                        <button [ngClass]="showIndeterminateProgressExpired?'hidden':''" class="btn btn-sm btn-primary"-->
                        <!--                                (click)="generatePDFReport('expired')">Download PDF-->
                        <!--                        </button>-->
                      </div>
                      <div class="col-sm-3 pull-right">
                        <div class="input-icon">
                          <input type='text' [disabled]="expiredLoader.visibility"
                                 [placeholder]="searchPlaceHolderExpired"
                                 pTooltip='Search By Name, Client, Assigned Area, Party Code' tooltipPosition="top"
                                 class="form-control input-sm" [(ngModel)]="inputValueExpired"
                                 (keyup)='updateFilterExpired($event)'>
                          <span class="icon fa fa-info-circle"></span>
                        </div>
                      </div>
                    </div>
                    <div class="table-responsive1 vscroll " style="height:auto;border: 1px solid #ebebeb;">
                      <p-progressBar *ngIf="showIndeterminateProgressExpired" [style]="{'height': '5px'}"
                                     mode="indeterminate"></p-progressBar>
                      <ngx-datatable #table class="material defaultCursor" [columnMode]="'force'" [headerHeight]="50"
                                     [footerHeight]="50" [rowHeight]="'auto'" [limit]="10" [rows]='expired'>
                        <ngx-datatable-column name="Contract<br>Number" prop="name">
                          <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            <span>
                              {{(value)}}
                            </span>
                          </ng-template>
                        </ngx-datatable-column>
                        <!-- <ngx-datatable-column name="Contract<br/>Type" prop="leased_owned_name"></ngx-datatable-column> -->

                        <ngx-datatable-column name="Client" prop="client_name"></ngx-datatable-column>
                        <!-- <ngx-datatable-column name="Area" prop="assigned_area_name"></ngx-datatable-column>
                        <ngx-datatable-column name="Location" prop="assigned_location_name"></ngx-datatable-column> -->
                        <ngx-datatable-column name="Party<br/>Code" prop="party_code"></ngx-datatable-column>
                        <ngx-datatable-column name="Created<br/>Date" prop="created_datetime">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'medium') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>

                        <ngx-datatable-column name="Start<br/>Date" prop="date_commissioned">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'mediumDate') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <ngx-datatable-column name="End<br/>Date" prop="date_of_joining">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'mediumDate') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <!-- <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'"
                                              name="No. of<br/>bins" prop="assigned_bins_count"></ngx-datatable-column>
                        <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'"
                                              name="Skip Rate<br/>(AED)" prop="skip_rate"></ngx-datatable-column>
                        <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'" name="Skip Size"
                                              prop="skip_size_name"></ngx-datatable-column> -->
                        <ngx-datatable-column name="Record<br/>Status" prop="status_label">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              <span class="label" [ngClass]="(value === 'Active')? 'label-success': 'label-danger'">
                                {{(value === 'Active') ? 'Active' : 'Inactive'}}
                              </span>
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <ngx-datatable-column name="Actions" [cellClass]="'text-right'" [headerClass]="'text-right'">
                          <ng-template let-value="value" let-row="row" ngx-datatable-cell-template>
                            <button type="button" class="btn btn-icon btn-outline btn-round btn-default btn-xs"
                                    data-target="#renewModal" data-toggle="modal" pTooltip="Renew"
                                    [disabled]="row.status!=1"
                                    (click)="openRenewModal(row)">
                              <i class="icon ion-android-sync"></i>
                            </button>
                            <button type="button" class="btn btn-icon btn-outline btn-round btn-default btn-xs"
                                    [ngClass]="{'green-view-button':(row.files_name?row.files_name.length>0:false)||row.photo}"
                                    data-target="#editpop3" data-toggle="modal" pTooltip="View Attachments"
                                    [disabled]="(row.files_name?(row.files_name.length>0?false:true):true)&&!row.photo"
                                    (click)="newView(row)">
                              <i class="icon ion-ios-eye-outline"></i>
                            </button>
                          </ng-template>
                        </ngx-datatable-column>
                      </ngx-datatable>
                      <app-spin-loading [appLoader]="newLoader" [size]="'sm'"></app-spin-loading>
                    </div>
                  </div>
                </div>

              </div>
              <div class="tab-pane" id="deactivated" role="tabpanel">
                <div class="panel-body">
                  <div class="vscroll" style="height:auto; overflow-x:hidden;">
                    <div class="margin-bottom-10  row">
                      <div class="col-sm-3 pull-left">
                        <app-export-csv [fileName]="'Deactivated Contracts'"
                                        [rows]="deactivated"
                                        [cols]="csvCols"
                                        *ngIf="!deactivatedLoader.visibility && deactivated.length>0"></app-export-csv>
                        <!--                        <button [ngClass]="showIndeterminateProgressDeactivated?'hidden':''"-->
                        <!--                          class="btn btn-sm btn-primary" (click)="generatePDFReport('deactivated')">Download-->
                        <!--                          PDF</button>-->
                      </div>
                      <div class="col-sm-3 pull-right">
                        <div class="input-icon">
                          <input type='text' [disabled]="enableSearchDeactivated"
                                 [placeholder]="searchPlaceHolderDeactivated"
                                 pTooltip='Search By Name, Client, Assigned Area, Party Code' tooltipPosition="top"
                                 class="form-control input-sm" [(ngModel)]="inputValueDeactivated"
                                 (keyup)='updateFilterDeactivated($event)'>
                          <span class="icon fa fa-info-circle"></span>
                        </div>
                      </div>
                    </div>
                    <div class="table-responsive1 vscroll " style="height:auto;border: 1px solid #ebebeb;">
                      <p-progressBar *ngIf="showIndeterminateProgressDeactivated" [style]="{'height': '5px'}"
                                     mode="indeterminate"></p-progressBar>
                      <ngx-datatable #table class="material defaultCursor" [columnMode]="'force'" [headerHeight]="50"
                                     [footerHeight]="50" [rowHeight]="'auto'" [limit]="10" [rows]='deactivated'>
                        <ngx-datatable-column name="Contract<br>Number" prop="name">
                          <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            <span>
                              {{(value)}}
                            </span>
                          </ng-template>
                        </ngx-datatable-column>
                        <!-- <ngx-datatable-column name="Contract<br/>Type" prop="leased_owned_name"></ngx-datatable-column> -->

                        <ngx-datatable-column name="Client" prop="client_name"></ngx-datatable-column>
                        <!-- <ngx-datatable-column name="Area" prop="assigned_area_name"></ngx-datatable-column>
                        <ngx-datatable-column name="Location" prop="assigned_location_name"></ngx-datatable-column> -->
                        <ngx-datatable-column name="Party<br/>Code" prop="party_code"></ngx-datatable-column>
                        <ngx-datatable-column name="Created<br/>Date" prop="created_datetime">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'medium') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>

                        <ngx-datatable-column name="Start<br/>Date" prop="date_commissioned">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'mediumDate') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <ngx-datatable-column name="End<br/>Date" prop="date_of_joining">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'mediumDate') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <!-- <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'"
                                              name="No. of<br/>bins" prop="assigned_bins_count"></ngx-datatable-column>
                        <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'"
                                              name="Skip Rate<br/>(AED)" prop="skip_rate"></ngx-datatable-column>
                        <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'" name="Skip Size"
                                              prop="skip_size_name"></ngx-datatable-column> -->
                        <ngx-datatable-column name="Record<br/>Status" prop="status_label">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              <span class="label" [ngClass]="(value === 'Active')? 'label-success': 'label-danger'">
                                {{(value === 'Active') ? 'Active' : 'Inactive'}}
                              </span>
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <ngx-datatable-column name="Actions" [cellClass]="'text-right'" [headerClass]="'text-right'">
                          <ng-template let-value="value" let-row="row" ngx-datatable-cell-template>
                            <button type="button" class="btn btn-icon btn-outline btn-round btn-default btn-xs"
                                    [ngClass]="{'green-view-button':(row.files_name?row.files_name.length>0:false)||row.photo}"
                                    data-target="#editpop3" data-toggle="modal" pTooltip="View Attachments"
                                    [disabled]="((row.files_name?(row.files_name.length>0?false:true):true)&&!row.photo)"
                                    (click)="newView(row)">
                              <i class="icon ion-ios-eye-outline"></i>
                            </button>
                          </ng-template>
                        </ngx-datatable-column>
                      </ngx-datatable>
                      <app-spin-loading [appLoader]="newLoader" [size]="'sm'"></app-spin-loading>
                    </div>
                  </div>
                </div>

              </div>
              <div class="tab-pane" id="expiring_in_3" role="tabpanel">
                <div class="panel-body">
                  <div class="vscroll" style="height:auto; overflow-x:hidden;">
                    <div class="margin-bottom-10  row">
                      <div class="col-sm-3 pull-left">
                        <app-export-csv [fileName]="'Expiring in Three Months Contracts'"
                                        [rows]="expiringInThreeMonths"
                                        [cols]="csvCols"
                                        *ngIf="!expiringIn3MonthsLoader.visibility && expiringInThreeMonths.length>0"></app-export-csv>
                        <!--                        <button [ngClass]="expiringIn3MonthsLoader.visibility?'hidden':''"-->
                        <!--                          class="btn btn-sm btn-primary" (click)="generatePDFReport('expiring_in_3')">Download-->
                        <!--                          PDF</button>-->
                      </div>
                      <div class="col-sm-3 pull-right">
                        <div class="input-icon">
                          <input type='text' [disabled]="expiringIn3MonthsLoader.visibility"
                                 [placeholder]="searchPlaceHolderExpiringInThreeMonths"
                                 pTooltip='Search By Name, Client, Assigned Area, Party Code' tooltipPosition="top"
                                 class="form-control input-sm" [(ngModel)]="inputValueExpiringInThreeMonths"
                                 (keyup)='updateFilterExpiringInThreeMonths($event)'>
                          <span class="icon fa fa-info-circle"></span>
                        </div>
                      </div>
                    </div>
                    <div class="table-responsive1 vscroll " style="height:auto;border: 1px solid #ebebeb;">
                      <p-progressBar *ngIf="expiringIn3MonthsLoader.visibility" [style]="{'height': '5px'}"
                                     mode="indeterminate"></p-progressBar>
                      <ngx-datatable #table class="material defaultCursor" [columnMode]="'force'" [headerHeight]="50"
                                     [footerHeight]="50" [rowHeight]="'auto'" [limit]="10"
                                     [rows]='expiringInThreeMonths'>
                        <ngx-datatable-column name="Contract<br>Number" prop="name">
                          <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            <span>
                              {{(value)}}
                            </span>
                          </ng-template>
                        </ngx-datatable-column>
                        <!-- <ngx-datatable-column name="Contract<br/>Type" prop="leased_owned_name"></ngx-datatable-column> -->

                        <ngx-datatable-column name="Client" prop="client_name"></ngx-datatable-column>
                        <!-- <ngx-datatable-column name="Area" prop="assigned_area_name"></ngx-datatable-column>
                        <ngx-datatable-column name="Location" prop="assigned_location_name"></ngx-datatable-column> -->
                        <ngx-datatable-column name="Party<br/>Code" prop="party_code"></ngx-datatable-column>
                        <ngx-datatable-column name="Created<br/>Date" prop="created_datetime">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'medium') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>

                        <ngx-datatable-column name="Start<br/>Date" prop="date_commissioned">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'mediumDate') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <ngx-datatable-column name="End<br/>Date" prop="date_of_joining">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              {{(value | date: 'mediumDate') || '-'}}
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <!-- <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'"
                                              name="No. of<br/>bins" prop="assigned_bins_count"></ngx-datatable-column>
                        <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'"
                                              name="Skip Rate<br/>(AED)" prop="skip_rate"></ngx-datatable-column>
                        <ngx-datatable-column [cellClass]="'text-center'" [headerClass]="'text-center'" name="Skip Size"
                                              prop="skip_size_name"></ngx-datatable-column> -->
                        <ngx-datatable-column name="Record<br/>Status" prop="status_label">
                          <ng-template let-value="value" ngx-datatable-cell-template>
                            <div>
                              <span class="label" [ngClass]="(value === 'Active')? 'label-success': 'label-danger'">
                                {{(value === 'Active') ? 'Active' : 'Inactive'}}
                              </span>
                            </div>
                          </ng-template>
                        </ngx-datatable-column>
                        <ngx-datatable-column name="Actions" [cellClass]="'text-right'" [headerClass]="'text-right'">
                          <ng-template let-value="value" let-row="row" ngx-datatable-cell-template>
                            <button type="button" class="btn btn-icon btn-outline btn-round btn-default btn-xs"
                                    data-target="#renewModal" data-toggle="modal" pTooltip="Renew"
                                    [disabled]="row.status!=1"
                                    (click)="openRenewModal(row)">
                              <i class="icon ion-android-sync"></i>
                            </button>
                            <button type="button" class="btn btn-icon btn-outline btn-round btn-default btn-xs"
                                    [ngClass]="{'green-view-button':(row.files_name?row.files_name.length>0:false)||row.photo}"
                                    data-target="#editpop3" data-toggle="modal" pTooltip="View Attachments"
                                    [disabled]="(row.files_name?(row.files_name.length<=0):true)&&!row.photo"
                                    (click)="newView(row)">
                              <i class="icon ion-ios-eye-outline"></i>
                            </button>
                          </ng-template>
                        </ngx-datatable-column>
                      </ngx-datatable>
                      <app-spin-loading [appLoader]="newLoader" [size]="'sm'"></app-spin-loading>
                    </div>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
